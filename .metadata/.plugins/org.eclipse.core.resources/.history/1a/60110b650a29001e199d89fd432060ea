package lazy_eager;

import java.util.Iterator;
import java.util.Set;

import org.hibernate.SessionFactory;
import org.hibernate.Transaction;
import org.hibernate.cfg.Configuration;
import org.hibernate.classic.Session;

import com.rays.auction.Auction;
import com.rays.auction.Bid;

public class TestLazy_Eager {

	public static void main(String[] args) {

		SessionFactory sf = new Configuration().configure().buildSessionFactory();

		Session sess = sf.openSession();
		Auction items = (Auction) sess.get(Auction.class, 1L);
		System.out.println(items.getDescription());
		System.out.println(items.getId());
		
	//lazy condition me lazy="true" -Auction.hbm.xml me hota he-->esme sirf Auction ki query run 
//query=>Hibernate: select auction0_.ID as ID1_0_, auction0_.DESCRIPTION as DESCRIPT2_1_0_ from AUCTION auction0_ where auction0_.ID=?	
	//Lazy condition me likhna pada link tabel ke data ko get karvana ke liye:-->items.getBids();
	//tabhi link table ki query run hoti.	
			
	/*	Set s = items.getBids(); 
		Iterator it = s.iterator();
		while (it.hasNext()) {
			Bid bid = (Bid) it.next();
			System.out.println(bid.getId());
			System.out.println(bid.getAmount());
			System.out.println(bid.getTimeStamp());
			System.out.println(bid.getItemId()); 
			}   */
		
		//eager condition me lazy="true" replace from fetch="joint" -Auiction.hbm.xml file me
		//eager condition me autometicaly link table data ki query chla kr get kr leta he data
	        
			
	   sess.close();

	}

}
